"0","#| label: data-prep"
"0",""
"0","# Create a recipe for preprocessing"
"0","rec <- recipe(cmedv ~ ., data = BostonHousing2) %>%"
"0","  # Collapse categories where population is < 3%"
"0","  step_other(town, chas, threshold = .03, other = ""Other"") %>% "
"0","  # Create dummy variables for all factor variables "
"0","  step_dummy(all_nominal_predictors())"
"0",""
"0","# Train the recipe on the dataset"
"0","prep <- prep(rec, training = BostonHousing2)"
"0",""
"0","# Create the final model matrix"
"0","model_df <- bake(prep, new_data = BostonHousing2)"
"0",""
"0","# Check the column names after one-hot encoding"
"0","colnames(model_df)"
"1"," [1]"
"1"," ""tract""                 "
"1"," ""lon""                   "
"1"," ""lat""                   "
"1","
"
"1"," [4]"
"1"," ""medv""                  "
"1"," ""crim""                  "
"1"," ""zn""                    "
"1","
"
"1"," [7]"
"1"," ""indus""                 "
"1"," ""nox""                   "
"1"," ""rm""                    "
"1","
"
"1","[10]"
"1"," ""age""                   "
"1"," ""dis""                   "
"1"," ""rad""                   "
"1","
"
"1","[13]"
"1"," ""tax""                   "
"1"," ""ptratio""               "
"1"," ""b""                     "
"1","
"
"1","[16]"
"1"," ""lstat""                 "
"1"," ""cmedv""                 "
"1"," ""town_Boston.Savin.Hill"""
"1","
"
"1","[19]"
"1"," ""town_Cambridge""        "
"1"," ""town_Lynn""             "
"1"," ""town_Newton""           "
"1","
"
"1","[22]"
"1"," ""town_Other""            "
"1"," ""chas_X1""               "
"1","
"
