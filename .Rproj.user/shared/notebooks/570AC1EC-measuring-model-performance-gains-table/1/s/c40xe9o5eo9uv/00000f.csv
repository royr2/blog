"0","#| label: target-definition"
"0",""
"0","# Check unique loan statuses"
"0","unique(sample$loan_status)"
"1","[1]"
"1"," ""Fully Paid""                                         "
"1","
"
"1","[2]"
"1"," ""Current""                                            "
"1","
"
"1","[3]"
"1"," ""Charged Off""                                        "
"1","
"
"1","[4]"
"1"," ""Late (31-120 days)""                                 "
"1","
"
"1","[5]"
"1"," ""Late (16-30 days)""                                  "
"1","
"
"1","[6]"
"1"," ""In Grace Period""                                    "
"1","
"
"1","[7]"
"1"," ""Does not meet the credit policy. Status:Fully Paid"" "
"1","
"
"1","[8]"
"1"," ""Does not meet the credit policy. Status:Charged Off"""
"1","
"
"0","# Define ""bad"" loans as those that are charged off"
"0","codes <- c(""Charged Off"", ""Does not meet the credit policy. Status:Charged Off"")"
"0",""
"0","# Create a binary flag for defaults"
"0","sample %<>% mutate(bad_flag = ifelse(loan_status %in% codes, 1, 0))"
"0",""
"0","# Check overall event rates"
"0","sample %>% "
"0","  summarise(events = sum(bad_flag == 1), "
"0","            non_events = sum(bad_flag == 0)) %>% "
"0","  mutate(event_rate = events/(events + non_events))"
